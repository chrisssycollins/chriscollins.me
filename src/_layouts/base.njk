<!DOCTYPE html>
<html lang="en">
  <head>
    {% include "head.njk" %}
    {% if site.isProduction %}
      <!-- capture the CSS content as a Liquid variable -->
      {% set css %}{% include "styles.min.css" %}{% endset %}
      <style> 
        {{ css | safe }}
      </style>
    {% else %}
    <link rel="stylesheet" href="/static/styles.min.css">
    {% endif %}

		<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

  </head>
  <body>
    <a href="#main" class="skip-link">Skip to main content</a>
    <a href="#nav" class="skip-link">Skip to navigation</a>
    {% if not hide_header %}
    <header class="md:flex md:justify-between md:flex-row md:items-center p-6 py-3 border-b border-gray-100">
			<div class="flex items-center justify-between">
				<a href="/" class="flex items-center font-semibold no-underline">
					<img class="w-8 mr-2" src="/static/chris.jpg" alt="Black and white photo of Chris smiling.">
					<span class="hidden md:block">Chris Collins</span>
				</a>
				<button id="nav-toggle" class="md:hidden leading-snug text-sm py-2 text-gray-600 hover:text-gray-900 px-2 uppercase -mx-2 rounded flex items-center font-semibold"><span class="sr-only">Menu</span> <svg xmlns="http://www.w3.org/2000/svg" class="w-8 ml-1 transform inline-block fill-current text-gray-500" fill="none" viewBox="0 0 24 24"><path fill="currentColor" d="M22 18.0048C22 18.5544 21.5544 19 21.0048 19H12.9952C12.4456 19 12 18.5544 12 18.0048 12 17.4552 12.4456 17.0096 12.9952 17.0096H21.0048C21.5544 17.0096 22 17.4552 22 18.0048zM22 12.0002C22 12.5499 21.5544 12.9954 21.0048 12.9954H2.99519C2.44556 12.9954 2 12.5499 2 12.0002 2 11.4506 2.44556 11.0051 2.99519 11.0051H21.0048C21.5544 11.0051 22 11.4506 22 12.0002zM21.0048 6.99039C21.5544 6.99039 22 6.54482 22 5.99519 22 5.44556 21.5544 5 21.0048 5H8.99519C8.44556 5 8 5.44556 8 5.99519 8 6.54482 8.44556 6.99039 8.99519 6.99039H21.0048z"/></svg></button>
			</div>

			<ul id="main-nav" class="hidden mt-4 md:mt-0 leading-relaxed md:flex items-center font-semibold">
				<li><a class="block -mx-3 md:mx-0 no-underline px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded" href="/about">About</a></li>
				<li><a class="block -mx-3 md:mx-0 no-underline px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded" href="/uses">Uses</a></li>
				<li><a class="block -mx-3 md:mx-0 no-underline px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded" href="/now">Now</a></li>
				<li x-data="{ dropdownOpen: false }">
					<button @click="dropdownOpen = true" class="-mx-3 md:mx-0 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded flex w-full items-center font-semibold">Indexes <svg :class="{'rotate-180': dropdownOpen}" class="w-3 ml-1 transform inline-block fill-current text-gray-500" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M64 144l192 224 192-224 -384 0Z"/></svg></button>
					
					<ul class="w-full my-2 md:my-0 border-l -mx-2 md:mx-0 leading-relaxed md:w-48 md:absolute p-2 md:bg-white md:border transform md:rounded md:-translate-x-12 md:mt-2 md:shadow-2xl z-10"  x-show="dropdownOpen" @click.away="dropdownOpen = false">
						<li><a class="no-underline block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded" href="https://photos.chriscollins.me">Photos</a></li>
						<li><a class="no-underline block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded" href="/logbook">Logbook</a></li>
						<li><a class="no-underline block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded" href="/projects">Projects</a></li>
						<li><a class="no-underline block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded" href="/notes">Notes</a></li>
						<li><a class="no-underline block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded" href="/bookmarks">Bookmarks</a></li>
					</ul>
				</li>
				<li><a class="block -mx-3 md:mx-0 no-underline px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded" href="/contact">Contact</a></li>
			</ul>
    </header>
    {% endif %}
    <main id="main" class="fade-in">
      {{ content | safe }}
    </main>
    <div class="container">
      <section id="nav">
        {% include "navigation.njk" %}
      </section>
      {% include "footer.njk" %}
    </div>
  </body>
  <script src="/static/scripts.min.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
</html>
