<!DOCTYPE html>
<html lang="en">
  <head>
    {% include "head.njk" %}
    {% if site.isProduction %}
      <!-- capture the CSS content as a Liquid variable -->
      {% set css %}{% include "styles.min.css" %}{% endset %}
      <style> 
        {{ css | safe }}
      </style>
    {% else %}
    <link rel="stylesheet" href="/static/styles.min.css">
    {% endif %}

		<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital@0;1&display=swap" rel="stylesheet">

  </head>
  <body>
    <a href="#main" class="skip-link">Skip to main content</a>
    <a href="#nav" class="skip-link">Skip to navigation</a>
    {% if not hide_header %}
    <header class="flex flex-col md:justify-between md:flex-row md:items-center p-6 border-b border-gray-100">
      <a href="/" class="mx-auto md:mx-0 flex items-center font-semibold">
        <img class="w-8 rounded-full mr-2" src="/static/chris.jpg" alt="Black and white photo of Chris smiling.">
				<span class="hidden md:block">Chris Collins</span>
      </a>
        <ul class="mt-4 md:mt-0 leading-relaxed flex items-center justify-center font-semibold">
          <li><a class="px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded" href="/about">About</a></li>
          <li><a class="px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded" href="/uses">Uses</a></li>
          <li><a class="px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded" href="/now">Now</a></li>
          <li x-data="{ open: false }">
            <button @click="open = true" class="px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded flex items-center font-semibold">Indexes <svg :class="{'rotate-180': open}" class="w-3 ml-1 transform inline-block fill-current text-gray-500" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M64 144l192 224 192-224 -384 0Z"/></svg></button>
            
            <ul class="leading-relaxed w-48 absolute p-2 bg-white border transform rounded -translate-x-12 mt-2 shadow-2xl z-10"  x-show="open" @click.away="open = false">
              <li><a class="block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded" class="no-underline hover:text-white hover:underline py-1 block px-2" href="https://photos.chriscollins.me">Photos</a></li>
              <li><a class="block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded" class="no-underline hover:text-white hover:underline py-1 block px-2" href="/logbook">Hiking & Camping</a></li>
              <li><a class="block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded" class="no-underline hover:text-white hover:underline py-1 block px-2" href="/projects">Projects</a></li>
              <li><a class="block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded" class="no-underline hover:text-white hover:underline py-1 block px-2" href="/notes">Notes</a></li>
              <li><a class="block px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded" class="no-underline hover:text-white hover:underline py-1 block px-2" href="/bookmarks">Bookmarks</a></li>
            </ul>
          </li>
          <li><a class="px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded" href="/contact">Contact</a></li>
        </ul>
    </header>
    {% endif %}
    <main id="main" class="fade-in">
      {{ content | safe }}
    </main>
    <div class="container">
      <section id="nav">
        {% include "navigation.njk" %}
      </section>
      {% include "footer.njk" %}
    </div>
  </body>
  <script src="/static/app.bundled.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
</html>
